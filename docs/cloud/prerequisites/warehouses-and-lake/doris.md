# Doris

Please follow the instructions below to ensure that the Doris database is successfully added and used in Tapdata Cloud.

## Supported versions

Doris 1.x

## Prerequisites

### Create Doris account

```
//Create user
create user 'username'@'localhost' identified with Doris_ native_ password by 'password';
//Change password
alter user 'username'@'localhost' identified with Doris_ native_ password by 'password';
```

### Authorization of tapdata account

Assign select permission to a database

```
GRANT SELECT, SHOW VIEW, CREATE ROUTINE, LOCK TABLES ON <DATABASE_ NAME>.< TABLE_ NAME> TO 'tapdata' IDENTIFIED BY 'password';
```

Permissions for global

```
GRANT RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'tapdata' IDENTIFIED BY 'password';
```

### Constraint description

```
When synchronizing from Doris to other heterogeneous databases, if the source Doris has a table cascade setting, the data updates and deletions generated by the cascade trigger will not be delivered to the target. If you need to build a cascade processing capability at the target end, you can achieve this type of data synchronization through triggers and other means depending on the target situation.
```

## Prerequisites (as targets)

Assign all permissions to a database

```
GRANT ALL PRIVILEGES ON <DATABASE_ NAME>.< TABLE_ NAME> TO 'tapdata' IDENTIFIED BY 'password';
```

Permissions for global

```
GRANT PROCESS ON *.* TO 'tapdata' IDENTIFIED BY 'password';
```

## Common errors

Unknown error 1044 If the permission has been granted, but the connection cannot be tested through tapdata, you can check and repair it through the following steps

```
SELECT host,user,Grant_ priv,Super_ priv FROM Doris.user where user='username';
//View Grant_ Whether the value of priv field is Y
//If not, execute the following command
UPDATE Doris.user SET Grant_ priv='Y' WHERE user='username';
FLUSH PRIVILEGES;
```